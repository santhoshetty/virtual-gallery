<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Painting Clicks - Virtual Gallery</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #f0f0f0;
        }
        .test-info {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        #gallery-container {
            border: 2px solid #ccc;
            border-radius: 10px;
            overflow: hidden;
            background: black;
        }
    </style>
</head>
<body>
    <div class="test-info">
        <h1>🎨 Virtual Gallery - Painting Click Test</h1>
        <p><strong>Desktop Instructions:</strong></p>
        <ul>
            <li>Click "Click to play" to enter the gallery</li>
            <li>Use WASD or arrow keys to move around</li>
            <li>When near a painting, an info panel will appear</li>
            <li>Click anywhere while near a painting to open the full-size popup</li>
            <li>Click outside the popup image to close it</li>
            <li>Click the X button to close the popup</li>
        </ul>
        <p><strong>Mobile Instructions:</strong></p>
        <ul>
            <li>Tap "Start Gallery Tour" to begin</li>
            <li>Use the virtual joystick to move around</li>
            <li>Tap directly on paintings to open them</li>
            <li>Use the X button to close popups</li>
        </ul>
        <button class="test-button" onclick="window.location.href='index.html'">Open Main Gallery</button>
        <button class="test-button" onclick="testPaintingDetection()">Test Painting Detection</button>
    </div>
    
    <div id="gallery-container">
        <iframe src="index.html" width="100%" height="600px" frameborder="0"></iframe>
    </div>

    <script>
        function testPaintingDetection() {
            console.log('Testing painting detection...');
            
            // Test if the gallery modules are loaded
            setTimeout(() => {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                if (iframeWindow.virtualGallery) {
                    console.log('✅ Virtual Gallery loaded successfully');
                    console.log('Gallery info:', iframeWindow.virtualGallery.getDebugInfo());
                } else {
                    console.log('❌ Virtual Gallery not found');
                }
                
                // Check if paintings are loaded
                if (iframeWindow.CoreGallery) {
                    console.log('✅ CoreGallery module loaded');
                } else {
                    console.log('❌ CoreGallery module not found');
                }
                
                // Check controls
                if (iframeWindow.DesktopControls) {
                    console.log('✅ DesktopControls module loaded');
                } else {
                    console.log('❌ DesktopControls module not found');
                }
                
                if (iframeWindow.MobileControls) {
                    console.log('✅ MobileControls module loaded');
                } else {
                    console.log('❌ MobileControls module not found');
                }
            }, 3000);
        }
        
        // Auto-test after page loads
        window.addEventListener('load', () => {
            setTimeout(testPaintingDetection, 5000);
        });
    </script>
</body>
</html> 